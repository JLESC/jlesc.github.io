<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta content="ie=edge" http-equiv="x-ua-compatible">
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <title>Use of the Folding profiler to assist on data distribution for heterogeneous memory systems - Jekyll Advance</title>


<meta property="og:type" content="website"/>
<meta property="og:url" content="/projects/folding_hmem/"/>

  <meta property="og:title" content="Use of the Folding profiler to assist on data distribution for heterogeneous memory systems"/>




<meta name="twitter:card" content="summary"/>
<meta name="twitter:site" content="@zerostaticio" />
<meta name="twitter:creator" content="@zerostaticio" />

    <link rel="icon" href="/assets/images/favicon/favicon.png">
    <link href="/assets/css/main.css" rel="stylesheet">
    <link href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Mono&family=Lato:wght@300;400;700&family=Source+Sans+Pro:wght@300;400;700&display=swap" rel="stylesheet">

    

  </head>
<body class="page page-post page-post-1 has-fixed-header">


<div class="menu-main-mobile " id="menu-main-mobile">

  <div class="menu-main-mobile-top">
    <div id="close-overlay" class="menu-main-close">
      <div class="hamburger"></div>
    </div>
  </div>

  <div class="menu-main-mobile-center">
    
      <ul class="menu">
        
          <li class="menu-item-about">
            <a href="/#about">About</a>
          </li>
        
          <li class="menu-item-news">
            <a href="/news/">News</a>
          </li>
        
          <li class="menu-item-events">
            <a href="/events/">Events</a>
          </li>
        
          <li class="menu-item-research">
            <a href="">Research</a>
          </li>
        
          <li class="menu-item-references">
            <a href="/references">References</a>
          </li>
        
          <li class="menu-item-how to">
            <a href="https://github.com/JLESC/jlesc.github.io/wiki">How to</a>
          </li>
        
      </ul>
    
  </div>
</div>




<div id="header" class='header bg-base-bg-4 header-fixed'>
    <div class="container">
      <div class="logos">
  <div class="logo logo-desktop">
    
  
    
      <div class="logo-text"><a href="/">JLESC</a></div>
    
    
  </div>

  <div class="logo logo-desktop-invert">
    
    
  
    
      <div class="logo-text"><a href="/">JLESC</a></div>
    
    
  </div>

  <div class="logo logo-mobile">
    
    
  
    
      <div class="logo-text"><a href="/">JLESC</a></div>
    
    
  </div>


  <div class="logo logo-mobile-invert">
    
    
  
    
      <div class="logo-text"><a href="/">JLESC</a></div>
    

  </div>

</div>


      <div class="menu-main">
  <ul>
    
      
        <li class="menu-item-dropdown menu-item-About">
          <a href="/#about">About <i class="fa-solid fa-chevron-down"></i></a>
          
          <div class="dropdown-menu">
            
              <a href="/#about" class="dropdown-item ">
                
                

                <div class="dropdown-item-content">
                  <div class="dropdown-item-name">JLESC</div>
                  
                </div>

              </a>

            
              <a href="/about/partners.html" class="dropdown-item ">
                
                

                <div class="dropdown-item-content">
                  <div class="dropdown-item-name">Partners</div>
                  
                </div>

              </a>

            
              <a href="/about/people" class="dropdown-item ">
                
                

                <div class="dropdown-item-content">
                  <div class="dropdown-item-name">People</div>
                  
                </div>

              </a>

            
              <a href="/about/grants.html" class="dropdown-item ">
                
                

                <div class="dropdown-item-content">
                  <div class="dropdown-item-name">Grants</div>
                  
                </div>

              </a>

            
              <a href="/about/early_career.html" class="dropdown-item ">
                
                

                <div class="dropdown-item-content">
                  <div class="dropdown-item-name">Early Career</div>
                  
                </div>

              </a>

            
          </div>

        </li>
      
    
      
        
        <li class="">
          <a href="/news/">News</a>
        </li>
      
    
      
        
        <li class="">
          <a href="/events/">Events</a>
        </li>
      
    
      
        <li class="menu-item-dropdown menu-item-Research">
          <a href="">Research <i class="fa-solid fa-chevron-down"></i></a>
          
          <div class="dropdown-menu">
            
              <a href="/research/collaboration" class="dropdown-item ">
                
                

                <div class="dropdown-item-content">
                  <div class="dropdown-item-name">Collaboration</div>
                  
                </div>

              </a>

            
              <a href="/projects" class="dropdown-item ">
                
                

                <div class="dropdown-item-content">
                  <div class="dropdown-item-name">Projects</div>
                  
                </div>

              </a>

            
          </div>

        </li>
      
    
      
        
        <li class="">
          <a href="/references">References</a>
        </li>
      
    
      
        
        <li class="">
          <a href="https://github.com/JLESC/jlesc.github.io/wiki">How to</a>
        </li>
      
    
  </ul>
</div>

      
      <div class="hamburger-trigger" id="toggle-menu-main-mobile">
  <button class="hamburger">Menu</button>
</div>
  </div>
</div>


<div id="wrapper" class="wrapper" style="margin-top: 60px;">
  <div class="section">
  <div class="container post-header">

    <div class="row justify-content-center">
      <div class="col-12 col-lg-8">
          
            <div class="post-date">22 March 2016</div>
          
          
          <div class="post-categories">
          


  

          
          </div>
          <div class="post-title">
            <h1>Use of the Folding profiler to assist on data distribution for heterogeneous memory systems</h1>
          </div>
          

          

      </div>
    </div>
          
    <div class="row justify-content-center">
      <div class="col-12 col-lg-10">
        
      </div>
    </div>

  </div>
</div>

<div class="section pt-0">
  <div class="container">
    <div class="row justify-content-center">

      <div class="col-12 col-lg-8">
        <div class="content"><h2 id="research-topic-and-goals">Research topic and goals</h2>
<p>We are extending the research on data distribution and partitioning for heterogeneous memory systems started at Argonne <a class="citation" href="#PenaBalaji2014">(Peña and Balaji 2014)</a>. This approach is based on an emulator-based data-oriented profiler (now named EVOP) <a class="citation" href="#PenaBalaji2014b">(Peña and Balaji 2014)</a>. However, the profiling stage is time-consuming. We are evaluating the possibility of adapting and using the profiling tool “Folding” from BSC for this purpose <a class="citation" href="#ServatEtAl2015">(Servat et al. 2015)</a>. Since it is based on hardware counters, it seems clear that the profiling time will be greatly reduced. Given the lossy nature of profilers based on hardware counters, however, it is interesting to determine if this solution provides sufficient resolution for the subsequent stage to generate a well-optimized data distribution.</p>

<p>We also analyze the potential of a runtime support for heterogeneous memory systems. Profiling can be used to find the optimal data distribution, but it is limited to the system configuration.  Runtime support may be helpful if highly accessed objects are not fitting to the fastest available memory layer and therefore must be allocated in a slower memory region.  Here, efficient prefetching between the slow memory layer and a software-managed fast memory cache may be helpful.</p>

<h2 id="results-for-20152016">Results for 2015/2016</h2>
<p>So far we have:</p>

<ul>
  <li>Modified the Extrae profiler to generate EVOP-like reports with PEBS data.</li>
  <li>Developed a mechanism to compare the results.</li>
  <li>Performed early profiling performance and quality of object distribution evaluation.</li>
</ul>

<p>We have noticed that our distributions from EVOP and Extrae data do not always match. This may be attributed to a combination of two factors: data loss, but also different cache behaviors (in EVOP the cache is simulated after the queried system cache properties).</p>

<p>We used the profiling data to identify objects where runtime support may be useful. To evaluate the beneficing of prefetching, we used an emulation. Slow memory is emulated by using the XeonPhi device memory, which is mapped into the host address space.
Our emulation shows that, in the case highly accessed objects are not fitting into fast memory, prefetching can be very useful to increase the performance.</p>

<h2 id="results-for-20162017">Results for 2016/2017</h2>
<p>We are following separate paths until we get ready to combine our research. ANL has been working in programming models, whereas BSC has been working in the underlying tools.</p>

<h2 id="results-for-20172018">Results for 2017/2018</h2>
<p>We have published last papers on Extrae’s methodology <a class="citation" href="#ServatEtAl2017">(Servat et al. 2017)</a><a class="citation" href="#ServatEtAl2017b">(Servat et al. 2017)</a>. We believe we have accomplished the objectives of the project and we have successfully proved data-oriented profiling using hardware sampling instead of emulation can be used to assist on data distribution for heterogeneous memory systems. We will follow-up on a new JLESC project in short.</p>

<h2 id="visits-and-meetings">Visits and meetings</h2>
<p>Frequent teleconferences and e-mail exchanges. No planned visits yet. <span class="person given-name">Antonio J.</span> <span class="person sur-name">Peña</span> (<abbr title="Centro Nacional de Supercomputación" class="initialism" data-toggle="tooltip">BSC</abbr>) moved from Argonne to BSC in 2015.
In February 2018 <span class="person given-name">Antonio J.</span> <span class="person sur-name">Peña</span> (<abbr title="Centro Nacional de Supercomputación" class="initialism" data-toggle="tooltip">BSC</abbr>) has visited ANL and we have decided that (1) the objectives of this project are already successfully accomplished and (2) the planned upcoming work on heterogeneous memories will better fit a new project.</p>

<h2 id="impact-and-publications">Impact and publications</h2>
<p>The research in this project lead to the definition of a Marie Slodowska-Curie Individual Fellowship (MSCA-IF): “Advanced Ecosystem for Broad Heterogeneous Memory Usage” (ECO-H-MEM). The proposal was funded and it is scheduled to start on March 1st. In addition, a follow-up task has also been funded in EU H2020 Project “European joint Effort toward a Highly Productive Environment for Heterogeneous Exascale Computing” (EPEEC), to start on May 1st 2018. Hence, apart from the publications listed below, this project under the JLESC umbrella has successfully served as an incubator toward mature proposals.</p>

<p>The developments of this project have been publically released in both EVOP (ANL) and Extrae software packages.</p>

<ol class="bibliography"></ol>

<h2 id="future-plans">Future plans</h2>
<p>To start a new JLESC project to follow-up on a broader direction besides the Extrae validation.</p>

<h2 id="references">References</h2>

<ol class="bibliography"><li><div class="bibtex-entry-container">
  <div class="d-flex flex-row flex-wrap">
    <div class="col-md-3 col-sm-12 bibtex-ref-meta hidden">
      <div class="row">
        <div class="col-md-12 ref-label tag tag-default">
          ServatEtAl2017
        </div>
      </div>
      <div class="row">
        <button class="btn btn-sm btn-secondary col-xs-6" data-toggle="collapse" data-target="#collapseServatEtAl2017Bibtex" aria-expanded="false" aria-controls="collapseServatEtAl2017Bibtex">
          BibTeX
        </button>
        <button class="btn btn-sm btn-secondary-outline col-xs-6" disabled="disabled" data-toggle="collapse" data-target="#collapseServatEtAl2017Abstract" aria-expanded="false" aria-controls="collapseServatEtAl2017Abstract">
          Abstract
        </button>
      </div>
    </div>

    <div class="bibtex-ref-entry col-md-9 col-sm-12">
      <span id="ServatEtAl2017">Servat, H., J. Labarta, H. C. Hoppe, J. Giménez, and A. J. Peña. 2017. “Integrating Memory Perspective into the BSC Performance Tools.” In <i>2017 46th International Conference on Parallel Processing Workshops (ICPPW)</i>, 231–32. https://doi.org/10.1109/ICPPW.2017.42.</span>
    </div>
  </div>
  <div class="collapse" id="collapseServatEtAl2017Bibtex">
    <div class="row bibtex-ref-raw">
      <div class="col-sm-10 offset-sm-1">
        <pre><code>@inproceedings{ServatEtAl2017,
  author = {Servat, H. and Labarta, J. and Hoppe, H. C. and Giménez, J. and {Pe\~na}, A. J.},
  booktitle = {2017 46th International Conference on Parallel Processing Workshops (ICPPW)},
  doi = {10.1109/ICPPW.2017.42},
  pages = {231--232},
  title = {Integrating Memory Perspective into the {BSC} Performance Tools},
  year = {2017}
}
</code></pre>
      </div>
    </div>
  </div>
  
</div>
</li>
<li><div class="bibtex-entry-container">
  <div class="d-flex flex-row flex-wrap">
    <div class="col-md-3 col-sm-12 bibtex-ref-meta hidden">
      <div class="row">
        <div class="col-md-12 ref-label tag tag-default">
          ServatEtAl2017b
        </div>
      </div>
      <div class="row">
        <button class="btn btn-sm btn-secondary col-xs-6" data-toggle="collapse" data-target="#collapseServatEtAl2017bBibtex" aria-expanded="false" aria-controls="collapseServatEtAl2017bBibtex">
          BibTeX
        </button>
        <button class="btn btn-sm btn-secondary-outline col-xs-6" disabled="disabled" data-toggle="collapse" data-target="#collapseServatEtAl2017bAbstract" aria-expanded="false" aria-controls="collapseServatEtAl2017bAbstract">
          Abstract
        </button>
      </div>
    </div>

    <div class="bibtex-ref-entry col-md-9 col-sm-12">
      <span id="ServatEtAl2017b">Servat, H., A. J. Peña, G. Llort, E. Mercadal, H. C. Hoppe, and J. Labarta. 2017. “Automating the Application Data Placement in Hybrid Memory Systems.” In <i>2017 IEEE International Conference on Cluster Computing (CLUSTER)</i>, 126–36. https://doi.org/10.1109/CLUSTER.2017.50.</span>
    </div>
  </div>
  <div class="collapse" id="collapseServatEtAl2017bBibtex">
    <div class="row bibtex-ref-raw">
      <div class="col-sm-10 offset-sm-1">
        <pre><code>@inproceedings{ServatEtAl2017b,
  author = {Servat, H. and {Pe\~na}, A. J. and Llort, G. and Mercadal, E. and Hoppe, H. C. and Labarta, J.},
  booktitle = {2017 IEEE International Conference on Cluster Computing (CLUSTER)},
  doi = {10.1109/CLUSTER.2017.50},
  pages = {126--136},
  title = {Automating the Application Data Placement in Hybrid Memory Systems},
  year = {2017}
}
</code></pre>
      </div>
    </div>
  </div>
  
</div>
</li>
<li><div class="bibtex-entry-container">
  <div class="d-flex flex-row flex-wrap">
    <div class="col-md-3 col-sm-12 bibtex-ref-meta hidden">
      <div class="row">
        <div class="col-md-12 ref-label tag tag-default">
          ServatEtAl2015
        </div>
      </div>
      <div class="row">
        <button class="btn btn-sm btn-secondary col-xs-6" data-toggle="collapse" data-target="#collapseServatEtAl2015Bibtex" aria-expanded="false" aria-controls="collapseServatEtAl2015Bibtex">
          BibTeX
        </button>
        <button class="btn btn-sm btn-secondary-outline col-xs-6" disabled="disabled" data-toggle="collapse" data-target="#collapseServatEtAl2015Abstract" aria-expanded="false" aria-controls="collapseServatEtAl2015Abstract">
          Abstract
        </button>
      </div>
    </div>

    <div class="bibtex-ref-entry col-md-9 col-sm-12">
      <span id="ServatEtAl2015">Servat, Harald, Germán Llort, Juan González, Judit Giménez, and Jesús Labarta. 2015. “Low-Overhead Detection of Memory Access Patterns and Their Time Evolution.” In <i>Euro-Par 2015: Parallel Processing</i>.</span>
    </div>
  </div>
  <div class="collapse" id="collapseServatEtAl2015Bibtex">
    <div class="row bibtex-ref-raw">
      <div class="col-sm-10 offset-sm-1">
        <pre><code>@incollection{ServatEtAl2015,
  author = {Servat, Harald and Llort, Germ{\'a}n and Gonz{\'a}lez, Juan and Gim{\'e}nez, Judit and Labarta, Jes{\'u}s},
  booktitle = {Euro-Par 2015: Parallel Processing},
  title = {Low-Overhead Detection of Memory Access Patterns and Their Time Evolution},
  year = {2015}
}
</code></pre>
      </div>
    </div>
  </div>
  
</div>
</li>
<li><div class="bibtex-entry-container">
  <div class="d-flex flex-row flex-wrap">
    <div class="col-md-3 col-sm-12 bibtex-ref-meta hidden">
      <div class="row">
        <div class="col-md-12 ref-label tag tag-default">
          PenaBalaji2014
        </div>
      </div>
      <div class="row">
        <button class="btn btn-sm btn-secondary col-xs-6" data-toggle="collapse" data-target="#collapsePenaBalaji2014Bibtex" aria-expanded="false" aria-controls="collapsePenaBalaji2014Bibtex">
          BibTeX
        </button>
        <button class="btn btn-sm btn-secondary-outline col-xs-6" disabled="disabled" data-toggle="collapse" data-target="#collapsePenaBalaji2014Abstract" aria-expanded="false" aria-controls="collapsePenaBalaji2014Abstract">
          Abstract
        </button>
      </div>
    </div>

    <div class="bibtex-ref-entry col-md-9 col-sm-12">
      <span id="PenaBalaji2014">Peña, Antonio J, and Pavan Balaji. 2014. “Toward the Efficient Use of Multiple Explicitly Managed Memory Subsystems.” In <i>IEEE Cluster</i>.</span>
    </div>
  </div>
  <div class="collapse" id="collapsePenaBalaji2014Bibtex">
    <div class="row bibtex-ref-raw">
      <div class="col-sm-10 offset-sm-1">
        <pre><code>@inproceedings{PenaBalaji2014,
  author = {Pe{\~n}a, Antonio J and Balaji, Pavan},
  booktitle = {IEEE Cluster},
  title = {Toward the Efficient Use of Multiple Explicitly Managed Memory Subsystems},
  year = {2014}
}
</code></pre>
      </div>
    </div>
  </div>
  
</div>
</li>
<li><div class="bibtex-entry-container">
  <div class="d-flex flex-row flex-wrap">
    <div class="col-md-3 col-sm-12 bibtex-ref-meta hidden">
      <div class="row">
        <div class="col-md-12 ref-label tag tag-default">
          PenaBalaji2014b
        </div>
      </div>
      <div class="row">
        <button class="btn btn-sm btn-secondary col-xs-6" data-toggle="collapse" data-target="#collapsePenaBalaji2014bBibtex" aria-expanded="false" aria-controls="collapsePenaBalaji2014bBibtex">
          BibTeX
        </button>
        <button class="btn btn-sm btn-secondary-outline col-xs-6" disabled="disabled" data-toggle="collapse" data-target="#collapsePenaBalaji2014bAbstract" aria-expanded="false" aria-controls="collapsePenaBalaji2014bAbstract">
          Abstract
        </button>
      </div>
    </div>

    <div class="bibtex-ref-entry col-md-9 col-sm-12">
      <span id="PenaBalaji2014b">Peña, Antonio J., and Pavan Balaji. 2014. “A Framework for Tracking Memory Accesses in Scientific Applications.” In <i>43nd International Conference on Parallel Processing Workshops (ICPP Workshops)</i>.</span>
    </div>
  </div>
  <div class="collapse" id="collapsePenaBalaji2014bBibtex">
    <div class="row bibtex-ref-raw">
      <div class="col-sm-10 offset-sm-1">
        <pre><code>@inproceedings{PenaBalaji2014b,
  author = {{Pe\~na}, Antonio J. and Balaji, Pavan},
  booktitle = {43nd International Conference on Parallel Processing Workshops (ICPP Workshops)},
  title = {A Framework for Tracking Memory Accesses in Scientific Applications},
  year = {2014}
}
</code></pre>
      </div>
    </div>
  </div>
  
</div>
</li></ol>
</div>
        
        
          <div class="comments mt-3">
            <div id="disqus_thread"></div>
<script>
    /**
    *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
    *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
    
    var disqus_config = function () {
      this.page.url = '/projects/folding_hmem/';
      this.page.identifier = '/projects/folding_hmem/';
    };
    
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();

</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

          </div>
        
        
      </div>

    </div>
  </div>
</div>

</div>


  <div class="bottom">
  <div class="container relative">
    <div class="row align-items-center justify-content-between">
      <div class="col-auto">
        
          <div class="menu-bottom">
  <ul>
    
      <li class="menu-item-Imprint">
        <a href="/imprint/">Imprint</a>
      </li>
    
      <li class="menu-item-Privacy">
        <a href="https://help.github.com/articles/github-privacy-statement/">Privacy</a>
      </li>
    
      <li class="menu-item-Sources">
        <a href="https://github.com/JLESC/jlesc.github.io">Sources</a>
      </li>
    
      <li class="menu-item-Found a Typo?">
        <a href="https://github.com/JLESC/jlesc.github.io/issues">Found a Typo?</a>
      </li>
    
  </ul>
</div>
        
      </div>
      
    </div>
  </div>
</div>



<script type="text/javascript" src="/assets/js/vendor/popper.min.js"></script>
<script type="text/javascript" src="/assets/js/vendor/jquery-3.0.0.min.js"></script>
<script type="text/javascript" src="/assets/js/vendor/bootstrap.bundle.min.js"></script>
<script type="text/javascript" src="/assets/js/vendor/bootstrap.min.js"></script>
<script type="text/javascript" src="/assets/js/scripts.js"></script>


  <script type="text/javascript" src="/assets/js/header.js"></script>

<script type="text/javascript" src="/assets/js/hamburger.js"></script>
<script type="text/javascript" src="/assets/js/darkModeSwitch.js"></script>


  
  
    
      <script async src="https://www.googletagmanager.com/gtag/js?id="></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() {
          dataLayer.push(arguments);
        }
        gtag('js', new Date());
        gtag('config', '');
      </script>
    
  


</body>
</html>
