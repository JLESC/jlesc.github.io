<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>JLESC &mdash; Use of the Folding profiler to assist on data distribution for heterogeneous memory systems</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="The Joint Laboratory for Extreme Scale Computing includes researchers from the French National Institute for Research in Computer Science and Control (INRIA), the University of Illinois at Urbana-Champaign’s Center for Extreme-Scale Computation, the National Center for Supercomputing Applications, Argonne National Laboratory, Barcelona Supercomputing Center, Julich Supercomputing Center and Riken/AICS. The Joint Lab is part of Parallel@Illinois.
">
  <link rel="canonical" href="https://jlesc.github.io/projects/folding_hmem/">

  <link type="application/atom+xml" rel="alternate" href="https://jlesc.github.io/feed.xml" title="" />
  <link type="text/css" rel="stylesheet" href="/assets/main-167e11ddb3cf37684b12f71844e6f57af3cc3c85c3c0db40eabf910fff2a2e09.css">
</head>

  <body>
    <header>
  <noscript>
    <div class="container-fluid">
      <div class="card card-block card-danger row">
        <p class="card-text text-sm-center">
          You have Javascript disabled. This website might not work as intended and will look not as good as it can.
          <br />
          Please activate Javascript for this website. We are not loading content from other domains.
        </p>
      </div>
    </div>
  </noscript>
  <nav>
    <div class="navbar navbar-fixed-top navbar-dark bg-inverse" role="navigation">
      <div class="container">
        <button class="navbar-toggler hidden-md-up pull-right" type="button" data-toggle="collapse" data-target="#CollapsingNavbar">
          <i class="fa fa-bars fa-fw"></i>
        </button>

        <a class="navbar-brand" href="/">JLESC</a>

        <div class="collapse navbar-toggleable-sm" id="CollapsingNavbar">
          <ul class="nav navbar-nav">
            <li class="nav-item dropdown">
  <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">About</a>
  <div class="dropdown-menu">
    <a href="/about/" class="dropdown-item">JLESC</a>
    <a href="/about/partners/" class="dropdown-item">Partners</a>
    <a href="/about/people/" class="dropdown-item">People</a>
    <a href="/about/grants/" class="dropdown-item">Grants</a>
  </div>
</li>

            <li class="nav-item">
              <a href="/news/" class="nav-link">News</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/events/">Events</a>
            </li>
            <li class="nav-item dropdown active">
  <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Research</a>
  <div class="dropdown-menu">
    <a href="/research/collaboration/" class="dropdown-item">On Collaboration</a>
    <a href="/projects/" class="dropdown-item active">Projects</a>
    <a href="/software/" class="dropdown-item">Software</a>
    <a href="/research/visits/" class="dropdown-item">Visits</a>
  </div>
</li>

            <li class="nav-item">
              <a class="nav-link" href="/references/">References</a>
            </li>
          </ul>

          <ul class="nav navbar-nav pull-right">
            <li class="nav-item">
              <a class="nav-link"
                 href="https://github.com/JLESC/jlesc.github.io/wiki"
                 target="_blank"
                 title="How to contribute"
                 data-toggle="tooltip"
                 data-placement="left">
                <i class="fa fa-fw fa-book"></i>
                How To
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </nav>
</header>

    <main>
      <div class="container">
        <div class="post post-project">
  <article class="post-content">
    <div class="row">
      <header class="col-sm-12 post-header">
        <h1 class="pull-left">Use of the Folding profiler to assist on data distribution for heterogeneous memory systems</h1>
      </header>
    </div>
    <div class="row">
      <aside class="col-lg-5 col-sm-12 pull-lg-right collapse in" id="meta-aside">
        <section class="group-meta card">
  <div class="card-header">
    Project Profile
  </div>
  
  <ul class="list-group list-group-flush">
    <li class="list-group-item row">
      <label class="col-sm-4">Topics</label>
      <div class="col-sm-8">
        
          <span class="clearfix">
            <span class="topic topic-title">Performance Tools</span>
          </span>
        
      </div>
    </li>
    
      <li class="list-group-item row">
        <label class="col-sm-4">Keywords</label>
        <div class="col-sm-8">
          
            <span class="clearfix"></span>
          
        </div>
      </li>
    
    
    
      <li class="list-group-item row">
        <label class="col-sm-4">Members</label>
        <div class="col-sm-8">
          
            <span class="clearfix">
              <span class="person given-name">Antonio J.</span> <span class="person sur-name">Peña</span> (<abbr title="Centro Nacional de Supercomputación" class="initialism" data-toggle="tooltip">BSC</abbr>)
              <span class="pull-right">
                <a title="Project Head" data-toggle="tooltip"><i class="fa fa-graduation-cap fa-fw"></i></a>
              </span>
            </span>
          
          
            <span class="clearfix">
              <span class="person given-name">Harald</span> <span class="person sur-name">Servat</span> (<abbr title="Centro Nacional de Supercomputación" class="initialism" data-toggle="tooltip">BSC</abbr>)
            </span>
          
            <span class="clearfix">
              <span class="person given-name">Lena</span> <span class="person sur-name">Oden</span> (<abbr title="Argonne National Laboratory" class="initialism" data-toggle="tooltip">ANL</abbr>)
            </span>
          
            <span class="clearfix">
              <span class="person given-name">Judit</span> <span class="person sur-name">Gimenez</span> (<abbr title="Centro Nacional de Supercomputación" class="initialism" data-toggle="tooltip">BSC</abbr>)
            </span>
          
            <span class="clearfix">
              <span class="person given-name">Jesus</span> <span class="person sur-name">Labarta</span> (<abbr title="Centro Nacional de Supercomputación" class="initialism" data-toggle="tooltip">BSC</abbr>)
            </span>
          
            <span class="clearfix">
              <span class="person given-name">Pavan</span> <span class="person sur-name">Balaji</span> (<abbr title="Argonne National Laboratory" class="initialism" data-toggle="tooltip">ANL</abbr>)
            </span>
          
        </div>
      </li>
    
    
    <li class="list-group-item row">
      <label class="col-sm-4">Status</label>
      <div class="col-sm-8">
        <span class="project-status project-status-running">running</span>
      </div>
    </li>
    
  </ul>
</section>
        <section class="card" id="toc">
          <div class="card-header">
            Table of Contents
          </div>
          <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#research-topic-and-goals">Research topic and goals</a></li>
<li class="toc-entry toc-h2"><a href="#results-for-20152016">Results for 2015/2016</a></li>
<li class="toc-entry toc-h2"><a href="#visits-and-meetings">Visits and meetings</a></li>
<li class="toc-entry toc-h2"><a href="#impact-and-publications">Impact and publications</a></li>
<li class="toc-entry toc-h2"><a href="#person-month-efforts-in-20152016">Person-Month efforts in 2015/2016</a></li>
<li class="toc-entry toc-h2"><a href="#future-plans">Future plans</a></li>
<li class="toc-entry toc-h2"><a href="#references">References</a></li>
</ul>
        </section>
      </aside>
      <div class="col-lg-7 col-sm-12 pull-lg-left content" id="main-content">
        
        <h2 id="research-topic-and-goals">
<a id="research-topic-and-goals" class="anchor" href="#research-topic-and-goals" aria-hidden="true"><span class="octicon octicon-link"></span></a>Research topic and goals</h2>
<p>We are extending the research on data distribution and partitioning for heterogeneous memory systems started at Argonne <a href="#PenaBalaji2014">(Peña and Balaji 2014)</a>. This approach is based on an emulator-based data-oriented profiler (now named EVOP) <a href="#PenaBalaji2014b">(Peña and Balaji 2014)</a>. However, the profiling stage is time-consuming. We are evaluating the possibility of adapting and using the profiling tool “Folding” from BSC for this purpose <a href="#ServatEtAl2015">(Servat et al. 2015)</a>. Since it is based on hardware counters, it seems clear that the profiling time will be greatly reduced. Given the lossy nature of profilers based on hardware counters, however, it is interesting to determine if this solution provides sufficient resolution for the subsequent stage to generate a well-optimized data distribution.</p>

<p>We also analyze the potential of a runtime support for heterogeneous memory systems. Profiling can be used to find the optimal data distribution, but it is limited to the system configuration.  Runtime support may be helpful if highly accessed objects are not fitting to the fastest available memory layer and therefore must be allocated in a slower memory region.  Here, efficient prefetching between the slow memory layer and a software-managed fast memory cache may be helpful.</p>

<h2 id="results-for-20152016">
<a id="results-for-20152016" class="anchor" href="#results-for-20152016" aria-hidden="true"><span class="octicon octicon-link"></span></a>Results for 2015/2016</h2>
<p>So far we have:</p>

<ul>
  <li>Modified the Extrae profiler to generate EVOP-like reports with PEBS data.</li>
  <li>Developed a mechanism to compare the results.</li>
  <li>Performed early profiling performance and quality of object distribution evaluation.</li>
</ul>

<p>We have noticed that our distributions from EVOP and Extrae data do not always match. This may be attributed to a combination of two factors: data loss, but also different cache behaviors (in EVOP the cache is simulated after the queried system cache properties).</p>

<p>We used the profiling data to identify objects where runtime support may be useful. To evaluate the beneficing of prefetching, we used an emulation. Slow memory is emulated by using the XeonPhi device memory, which is mapped into the host address space.
Our emulation shows that, in the case highly accessed objects are not fitting into fast memory, prefetching can be very useful to increase the performance.</p>

<h2 id="visits-and-meetings">
<a id="visits-and-meetings" class="anchor" href="#visits-and-meetings" aria-hidden="true"><span class="octicon octicon-link"></span></a>Visits and meetings</h2>
<p>Frequent teleconferences and e-mail exchanges. No planned visits yet. <span class="person given-name">Antonio J.</span> <span class="person sur-name">Peña</span> (<abbr title="Centro Nacional de Supercomputación" class="initialism" data-toggle="tooltip">BSC</abbr>) moved from Argonne to BSC.</p>

<h2 id="impact-and-publications">
<a id="impact-and-publications" class="anchor" href="#impact-and-publications" aria-hidden="true"><span class="octicon octicon-link"></span></a>Impact and publications</h2>
<p>We are writing a paper and seeking further funding.</p>

<ol class="bibliography"></ol>

<h2 id="person-month-efforts-in-20152016">
<a id="person-month-efforts-in-20152016" class="anchor" href="#person-month-efforts-in-20152016" aria-hidden="true"><span class="octicon octicon-link"></span></a>Person-Month efforts in 2015/2016</h2>

<table class="person-months-table table table-bordered table-hover table-sm">
  <tbody>
    <tr>
      <td>
<span class="person given-name">Antonio J.</span> <span class="person sur-name">Peña</span> (<abbr title="Centro Nacional de Supercomputación" class="initialism" data-toggle="tooltip">BSC</abbr>)</td>
      <td>1.0 PM</td>
    </tr>
    <tr>
      <td>
<span class="person given-name">Harald</span> <span class="person sur-name">Servat</span> (<abbr title="Centro Nacional de Supercomputación" class="initialism" data-toggle="tooltip">BSC</abbr>)</td>
      <td>1.0 PM</td>
    </tr>
    <tr>
      <td>
<span class="person given-name">Lena</span> <span class="person sur-name">Oden</span> (<abbr title="Argonne National Laboratory" class="initialism" data-toggle="tooltip">ANL</abbr>)</td>
      <td>0.5 PM</td>
    </tr>
    <tr>
      <td>
<span class="person given-name">Judit</span> <span class="person sur-name">Gimenez</span> (<abbr title="Centro Nacional de Supercomputación" class="initialism" data-toggle="tooltip">BSC</abbr>)</td>
      <td>0.5 PM</td>
    </tr>
    <tr>
      <td>
<span class="person given-name">Jesus</span> <span class="person sur-name">Labarta</span> (<abbr title="Centro Nacional de Supercomputación" class="initialism" data-toggle="tooltip">BSC</abbr>)</td>
      <td>0.5 PM</td>
    </tr>
    <tr>
      <td>
<span class="person given-name">Pavan</span> <span class="person sur-name">Balaji</span> (<abbr title="Argonne National Laboratory" class="initialism" data-toggle="tooltip">ANL</abbr>)</td>
      <td>0.5 PM</td>
    </tr>
  </tbody>
</table>

<h2 id="future-plans">
<a id="future-plans" class="anchor" href="#future-plans" aria-hidden="true"><span class="octicon octicon-link"></span></a>Future plans</h2>
<p>Validate the sampling technique for data distribution by implementing and evaluating sampling on EVOP.
Joint software release.</p>

<h2 id="references">
<a id="references" class="anchor" href="#references" aria-hidden="true"><span class="octicon octicon-link"></span></a>References</h2>

<ol class="bibliography">
<li>
<div class="bibtex-entry-container">
  <div>
    <div class="col-md-3 col-sm-12 bibtex-ref-meta hidden">
      <div class="row">
        <div class="col-md-12 ref-label tag tag-default">
          ServatEtAl2015
        </div>
      </div>
      <div class="row">
        <button class="btn btn-sm btn-secondary col-xs-6" data-toggle="collapse" data-target="#collapseServatEtAl2015Bibtex" aria-expanded="false" aria-controls="collapseServatEtAl2015Bibtex">
          BibTeX
        </button>
        <button class="btn btn-sm btn-secondary-outline col-xs-6" disabled data-toggle="collapse" data-target="#collapseServatEtAl2015Abstract" aria-expanded="false" aria-controls="collapseServatEtAl2015Abstract">
          Abstract
        </button>
      </div>
    </div>

    <div class="bibtex-ref-entry">
      <span id="ServatEtAl2015">Servat, Harald, Germán Llort, Juan González, Judit Giménez, and Jesús Labarta. 2015. “Low-Overhead Detection Of Memory Access Patterns and Their Time Evolution.” In <i>Euro-Par 2015: Parallel Processing</i>.</span>
    </div>
  </div>
  <div class="collapse" id="collapseServatEtAl2015Bibtex">
    <div class="row bibtex-ref-raw">
      <div class="col-sm-10 offset-sm-1">
        <pre><code>@incollection{ServatEtAl2015,
  author = {Servat, Harald and Llort, Germ{\'a}n and Gonz{\'a}lez, Juan and Gim{\'e}nez, Judit and Labarta, Jes{\'u}s},
  booktitle = {Euro-Par 2015: Parallel Processing},
  title = {Low-Overhead Detection of Memory Access Patterns and Their Time Evolution},
  year = {2015}
}
</code></pre>
      </div>
    </div>
  </div>
  
</div>
</li>
<li>
<div class="bibtex-entry-container">
  <div>
    <div class="col-md-3 col-sm-12 bibtex-ref-meta hidden">
      <div class="row">
        <div class="col-md-12 ref-label tag tag-default">
          PenaBalaji2014
        </div>
      </div>
      <div class="row">
        <button class="btn btn-sm btn-secondary col-xs-6" data-toggle="collapse" data-target="#collapsePenaBalaji2014Bibtex" aria-expanded="false" aria-controls="collapsePenaBalaji2014Bibtex">
          BibTeX
        </button>
        <button class="btn btn-sm btn-secondary-outline col-xs-6" disabled data-toggle="collapse" data-target="#collapsePenaBalaji2014Abstract" aria-expanded="false" aria-controls="collapsePenaBalaji2014Abstract">
          Abstract
        </button>
      </div>
    </div>

    <div class="bibtex-ref-entry">
      <span id="PenaBalaji2014">Peña, Antonio J, and Pavan Balaji. 2014. “Toward The Efficient Use of Multiple Explicitly Managed Memory Subsystems.” In <i>IEEE Cluster</i>.</span>
    </div>
  </div>
  <div class="collapse" id="collapsePenaBalaji2014Bibtex">
    <div class="row bibtex-ref-raw">
      <div class="col-sm-10 offset-sm-1">
        <pre><code>@inproceedings{PenaBalaji2014,
  author = {Pe{\~n}a, Antonio J and Balaji, Pavan},
  booktitle = {IEEE Cluster},
  title = {Toward the Efficient Use of Multiple Explicitly Managed Memory Subsystems},
  year = {2014}
}
</code></pre>
      </div>
    </div>
  </div>
  
</div>
</li>
<li>
<div class="bibtex-entry-container">
  <div>
    <div class="col-md-3 col-sm-12 bibtex-ref-meta hidden">
      <div class="row">
        <div class="col-md-12 ref-label tag tag-default">
          PenaBalaji2014b
        </div>
      </div>
      <div class="row">
        <button class="btn btn-sm btn-secondary col-xs-6" data-toggle="collapse" data-target="#collapsePenaBalaji2014bBibtex" aria-expanded="false" aria-controls="collapsePenaBalaji2014bBibtex">
          BibTeX
        </button>
        <button class="btn btn-sm btn-secondary-outline col-xs-6" disabled data-toggle="collapse" data-target="#collapsePenaBalaji2014bAbstract" aria-expanded="false" aria-controls="collapsePenaBalaji2014bAbstract">
          Abstract
        </button>
      </div>
    </div>

    <div class="bibtex-ref-entry">
      <span id="PenaBalaji2014b">Peña, Antonio J., and Pavan Balaji. 2014. “A Framework For Tracking Memory Accesses in Scientific Applications.” In <i>43nd International Conference On Parallel Processing Workshops (ICPP Workshops)</i>.</span>
    </div>
  </div>
  <div class="collapse" id="collapsePenaBalaji2014bBibtex">
    <div class="row bibtex-ref-raw">
      <div class="col-sm-10 offset-sm-1">
        <pre><code>@inproceedings{PenaBalaji2014b,
  author = {{Pe\~na}, Antonio J. and Balaji, Pavan},
  booktitle = {43nd International Conference on Parallel Processing Workshops (ICPP Workshops)},
  title = {A Framework for Tracking Memory Accesses in Scientific Applications},
  year = {2014}
}
</code></pre>
      </div>
    </div>
  </div>
  
</div>
</li>
</ol>

      </div>
    </div>
  </article>
  
</div>

      </div>
    </main>
    <footer id="site-footer">
  <div class="navbar navbar-full navbar-light">
    <div class="container">
      <div class="row small">
        <div class="col-xs-6 col-sm-3">
          <div class="nav navbar-nav">
            <a class="nav-link" href="/about/imprint/">
              <i class="fa fa-copyright fa-fw"></i><span class="hidden-md-down">Imprint</span></a>
          </div>
        </div>
        <div class="col-sm-6 hidden-xs-down">
          <div class="nav navbar-nav text-xs-center">
            <span class="credit">
              Powered by
              <a class="nav-link" href="https://jekyllrb.com">Jekyll</a> and
              <a class="nav-link" href="https://getbootstrap.com">Twitter Bootstrap</a>
            </span>
          </div>
        </div>
        <div class="col-xs-6 col-sm-3">
          <ul class="nav navbar-nav pull-right">
            <li class="nav-item">
              <a class="nav-link" href="https://github.com/JLESC/jlesc.github.io">
                <i class="fa fa-github fa-fw"></i><span class="hidden-md-down">Sources</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://github.com/JLESC/jlesc.github.io/issues">
                <i class="fa fa-bug fa-fw"></i><span class="hidden-md-down">Found a typo?</span></a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</footer>

    <!-- Latest compiled and minified JavaScript -->
<script type="text/javascript" src="/assets/main-cc560abaacc504809fd53ed1638bea5e1d3b98220e2bdc3e828b01fb7dd5ca7e.js"></script>

  </body>
</html>
