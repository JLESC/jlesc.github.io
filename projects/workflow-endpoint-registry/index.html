<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>JLESC &mdash; A common workflow registry of compute endpoints and applications</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="The Joint Laboratory for Extreme Scale Computing includes researchers from the French National Institute for Research in Computer Science and Control (INRIA), the University of Illinois at Urbana-Champaign’s Center for Extreme-Scale Computation, the National Center for Supercomputing Applications, Argonne National Laboratory, Barcelona Supercomputing Center, Julich Supercomputing Center and Riken/AICS. The Joint Lab is part of Parallel@Illinois.
">
  <link rel="canonical" href="https://jlesc.github.io/projects/workflow-endpoint-registry/">

  <link type="application/atom+xml" rel="alternate" href="https://jlesc.github.io/feed.xml" title="" />
  <link type="text/css" rel="stylesheet" href="/assets/main-1121dc6ec5d1807973ca79a9ef9ac00b1a6150a25e54d3549d42c6d793195499.css">    
</head>

  <body>
    <header>
  <noscript>
    <div class="container-fluid">
      <div class="card card-block card-danger row">
        <p class="card-text text-sm-center">
          You have Javascript disabled. This website might not work as intended and will look not as good as it can.
          <br />
          Please activate Javascript for this website. We are not loading content from other domains.
        </p>
      </div>
    </div>
  </noscript>
  <nav>
    <div class="navbar navbar-fixed-top navbar-dark bg-inverse" role="navigation">
      <div class="container">
        <button class="navbar-toggler hidden-md-up pull-right" type="button" data-toggle="collapse" data-target="#CollapsingNavbar">
          <i class="fa fa-bars fa-fw"></i>
        </button>

        <a class="navbar-brand" href="/">JLESC</a>

        <div class="collapse navbar-toggleable-sm" id="CollapsingNavbar">
          <ul class="nav navbar-nav">
            <li class="nav-item dropdown">
  <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">About</a>
  <div class="dropdown-menu">
    <a href="/about/" class="dropdown-item">JLESC</a>
    <a href="/about/partners/" class="dropdown-item">Partners</a>
    <a href="/about/people/" class="dropdown-item">People</a>
    <a href="/about/grants/" class="dropdown-item">Grants</a>
  </div>
</li>

            <li class="nav-item">
              <a href="/news/" class="nav-link">News</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/events/">Events</a>
            </li>
            <li class="nav-item dropdown active">
  <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Research</a>
  <div class="dropdown-menu">
    <a href="/research/collaboration/" class="dropdown-item">On Collaboration</a>
    <a href="/projects/" class="dropdown-item active">Projects</a>
    <!-- <a href="/software/" class="dropdown-item">Software</a> -->
    <!-- <a href="/research/visits/" class="dropdown-item">Visits</a> -->
  </div>
</li>

            <li class="nav-item">
              <a class="nav-link" href="/references/">References</a>
            </li>
          </ul>

          <ul class="nav navbar-nav pull-right">
            <li class="nav-item">
              <a class="nav-link"
                 href="https://github.com/JLESC/jlesc.github.io/wiki"
                 target="_blank"
                 title="How to contribute"
                 data-toggle="tooltip"
                 data-placement="left">
                <i class="fa fa-fw fa-book"></i>
                How To
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </nav>
</header>

    <main>
      <div class="container">
        <div class="post post-project">
  <article class="post-content">
    <div class="row">
      <header class="col-sm-12 post-header">
        <h1 class="pull-left">A common workflow registry of compute endpoints and applications</h1>
      </header>
    </div>
    <div class="row">
      <aside class="col-lg-5 col-sm-12 pull-lg-right collapse in" id="meta-aside">
        <section class="group-meta card">
  <div class="card-header">
    Project Profile
  </div>
  
  <ul class="list-group list-group-flush">
    <li class="list-group-item row">
      <label class="col-sm-4">Topics</label>
      <div class="col-sm-8">
        
          <span class="clearfix">
            <span class="topic topic-title">Programming Languages and Runtimes</span>
          </span>
        
      </div>
    </li>
    
      <li class="list-group-item row">
        <label class="col-sm-4">Keywords</label>
        <div class="col-sm-8">
          
            <span class="clearfix"></span>
          
        </div>
      </li>
    
    
    
      <li class="list-group-item row">
        <label class="col-sm-4">Members</label>
        <div class="col-sm-8">
          
            <span class="clearfix">
              <span class="person given-name">Daniel S.</span> <span class="person sur-name">Katz</span> (<abbr title="University of Illinois at Urbana-Champaign" class="initialism" data-toggle="tooltip">UIUC</abbr>)
              <span class="pull-right">
                <a title="Project Head" data-toggle="tooltip"><i class="fa fa-graduation-cap fa-fw"></i></a>
              </span>
            </span>
          
          
            <span class="clearfix">
              <span class="person given-name">Rosa M.</span> <span class="person sur-name">Badia</span> (<abbr title="Centro Nacional de Supercomputación" class="initialism" data-toggle="tooltip">BSC</abbr>)
            </span>
          
            <span class="clearfix">
              <span class="person given-name">Chard</span> <span class="person sur-name">Kyle</span> (<abbr title="Argonne National Laboratory" class="initialism" data-toggle="tooltip">ANL</abbr>)
            </span>
          
            <span class="clearfix">
              <span class="person given-name">Jorge</span> <span class="person sur-name">Ejarque</span> (<abbr title="Centro Nacional de Supercomputación" class="initialism" data-toggle="tooltip">BSC</abbr>)
            </span>
          
        </div>
      </li>
    
    
    <li class="list-group-item row">
      <label class="col-sm-4">Status</label>
      <div class="col-sm-8">
        <span class="project-status project-status-running">running</span>
      </div>
    </li>
    
  </ul>
</section>
        <section class="card" id="toc">
          <div class="card-header">
            Table of Contents
          </div>
          <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#research-topic-and-goals">Research topic and goals</a></li>
<li class="toc-entry toc-h2"><a href="#results-for-20202022">Results for 2020–2022</a></li>
<li class="toc-entry toc-h2"><a href="#visits-and-meetings">Visits and meetings</a></li>
<li class="toc-entry toc-h2"><a href="#impact-and-publications">Impact and publications</a></li>
<li class="toc-entry toc-h2"><a href="#future-plans">Future plans</a></li>
<li class="toc-entry toc-h3"><a href="#contributions">Contributions:</a></li>
<li class="toc-entry toc-h3"><a href="#timeline">Timeline:</a></li>
<li class="toc-entry toc-h3"><a href="#computer-resource-needs">Computer resource needs:</a></li>
<li class="toc-entry toc-h3"><a href="#expected-results">Expected results:</a></li>
<li class="toc-entry toc-h2"><a href="#references">References</a></li>
</ul>
        </section>
      </aside>
      <div class="col-lg-7 col-sm-12 pull-lg-left content" id="main-content">
        
        
<h2 id="research-topic-and-goals">
<a id="research-topic-and-goals" class="anchor" href="#research-topic-and-goals" aria-hidden="true"><span class="octicon octicon-link"></span></a>Research topic and goals</h2>

<p>There is now a large and ever-growing number of workflow systems, and we have lost hope in
encouraging users not to continue developing more. Instead, we want to focus on building
shared elements that can help us with our own systems, as well as the users of those systems
and the developers of applications that will increasingly be used as workflow elements in
simulation, analysis, search, optimization, and parameter study research campaigns.</p>

<p>As discussed briefly at JLESC 9 (in ST A1.1. Python-based Workflows &amp; Software Sustainability),
two of the common types of elements that workflow systems interact with are the end computing
systems and the preexisting applications that the workflows wrap and call. Today, users of a
workflow system have to find information about both the end points and the applications, they
have to map that information to workflow-specific configuration formats, individually customize
their workflow to use these configurations, and keep up with changes over time. Instead, we
propose a registry of compute end points and applications, where an entry could be automatically
brought in to a workflow system.</p>

<p>This requires a pair of components:</p>

<ol>
  <li>
    <p>The registry itself and a means for adding and editing entries, potentially along with curation,
or perhaps community curated, using WikiData</p>
  </li>
  <li>
    <p>A means to use entries for a given workflow system</p>
  </li>
</ol>

<p>Registry entries could be added by three different groups:</p>

<ol>
  <li>
    <p>Compute resource providers could enter their systems, and application developers could enter their
applications</p>
  </li>
  <li>
    <p>Workflow system providers could enter systems and applications that they support, or we could collect
published configurations and map them to our common schema</p>
  </li>
  <li>
    <p>Workflow developers could enter system and applications that they and their workflow users need</p>
  </li>
</ol>

<h2 id="results-for-20202022">
<a id="results-for-20202022" class="anchor" href="#results-for-20202022" aria-hidden="true"><span class="octicon octicon-link"></span></a>Results for 2020–2022</h2>

<p>The BSC team, in the context of the eFLows4HPC project, has developed an extension of the PyCOMPSs programming model to allow the integration of 3rd party software execution within a PyCOMPSs workflow with a simple JSON description. This integration is done with a new python decorator which is located on top of a python function which represent the 3rd party software invation, as indicated below.</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@software (config_file=software_description.json) 
def external_software(params):
  pass
</code></pre></div></div>
<p>The software_description.json can be stored locally or retrieved from a repository and provides a description of how the software is executed, If it is a multicore binary execution, mpi application, service invocation, etc. This description is processed by the PyCOMPSs runtime which replaces the method call by the application executed indicated in the description. A code example can be found in this <a href="https://github.com/bsc-wdc/compss/blob/stable/tests/sources/local/python/1_decorator_software/src/modules/testSoftwareDecorator.py">link</a></p>

<p>In collaboration with the ECP ExaWorks project, we have contributed to the definition 
and development of PSI/J, a common Python library for managing asynchronous execution
of jobs on schedulers. 
We contributed to the <a href="https://exaworks.org/job-api-spec/specification.html">specification</a> 
and the <a href="https://github.com/ExaWorks/psi-j-python">Python library</a>. 
The evolving implementation currently supports Slurm, Cobalt, Flux, and LSF.</p>

<p>We have also worked with the Science Gateways Community Institute to provide feedback on 
the <a href="https://sgci-resource-inventory.readthedocs.io/en/latest/">SGCI Resource Inventory</a>. 
This initiative shares similar goals to our work in the NSF community. The inventory
includes a JSON schema and a GitHub-based flow for cataloging systems.</p>

<p>We’ve also been involved in spinning up the <a href="https://workflows.community">Workflows Community Initiative</a>,
which is another part to build buy-in for this work.</p>

<h2 id="visits-and-meetings">
<a id="visits-and-meetings" class="anchor" href="#visits-and-meetings" aria-hidden="true"><span class="octicon octicon-link"></span></a>Visits and meetings</h2>

<h2 id="impact-and-publications">
<a id="impact-and-publications" class="anchor" href="#impact-and-publications" aria-hidden="true"><span class="octicon octicon-link"></span></a>Impact and publications</h2>

<!--





-->

<ol class="bibliography"></ol>

<h2 id="future-plans">
<a id="future-plans" class="anchor" href="#future-plans" aria-hidden="true"><span class="octicon octicon-link"></span></a>Future plans</h2>

<h3 id="contributions">
<a id="contributions" class="anchor" href="#contributions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contributions:</h3>

<ol>
  <li>
    <p>A prototype of the registry itself and a means for adding and editing entries,
potentially along with curation, or perhaps community curated, using WikiData</p>
  </li>
  <li>
    <p>Methods to use registry entries in Parsl and PyCOMPs</p>
  </li>
</ol>

<h3 id="timeline">
<a id="timeline" class="anchor" href="#timeline" aria-hidden="true"><span class="octicon octicon-link"></span></a>Timeline:</h3>

<p>The initial work that proposed is</p>

<ol>
  <li>defining the schema for the registry, and implementing it as a REST service</li>
  <li>building some test elements, and entering them manually</li>
  <li>building software for Parsl and PyCOMPs to import and use registry entries</li>
</ol>

<p>We originally planed to do this initial work in the summer of 2020, but due to COVID-19 disruptions, we are now planning to focus initially
on defining the registration schema and collecting resource documents in a GitHub repository during 2020.
In early 2021, we will get some experience with using them in an ad hoc fashion.  With the help of students we will develop the REST API
and integrate with Parsl over summer 2021.
Also in 2021, the use of the registry will be considered within the EU eFlows4HPC project and its integration with PyCOMPSs.
After these initial activities, we will evaluate progress and decide on next steps, which likely include a publication and bringing in additional workflow systems.</p>

<h3 id="computer-resource-needs">
<a id="computer-resource-needs" class="anchor" href="#computer-resource-needs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Computer resource needs:</h3>
<p>Very few – no testing needs to be done at large scale, though we will need access
to a few HPC systems to test mechanisms for their use</p>

<h3 id="expected-results">
<a id="expected-results" class="anchor" href="#expected-results" aria-hidden="true"><span class="octicon octicon-link"></span></a>Expected results:</h3>

<ul>
  <li>Paper describing the prototype</li>
  <li>The prototype registry</li>
  <li>Initial methods added to Parsl and PyCOMPs to use the registry</li>
</ul>

<h2 id="references">
<a id="references" class="anchor" href="#references" aria-hidden="true"><span class="octicon octicon-link"></span></a>References</h2>

<ol class="bibliography"></ol>

      </div>
    </div>
  </article>
  
</div>

      </div>
    </main>
    <footer id="site-footer">
  <div class="navbar navbar-full navbar-light">
    <div class="container">
      <div class="row small">
        <div class="col-xs-6 col-sm-3">
          <ul class="nav navbar-nav navbar-left">
            <li class="nav-item">
              <a class="nav-link" href="/about/imprint/">
                <i class="fa fa-copyright fa-fw"></i><span class="hidden-md-down">Imprint</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://help.github.com/articles/github-privacy-statement/">
                <i class="fa fa-github fa-fw"></i><span class="hidden-md-down">Privacy</span></a>
            </li>
          </ul>
        </div>
        <div class="col-sm-6 hidden-xs-down">
          <div class="nav navbar-nav text-xs-center">
            <span class="credit">
              Powered by
              <a class="nav-link" href="https://jekyllrb.com">Jekyll</a> and
              <a class="nav-link" href="https://getbootstrap.com">Twitter Bootstrap</a>
            </span>
          </div>
        </div>
        <div class="col-xs-6 col-sm-3">
          <ul class="nav navbar-nav navbar-right">
            <li class="nav-item">
              <a class="nav-link" href="https://github.com/JLESC/jlesc.github.io">
                <i class="fa fa-github fa-fw"></i><span class="hidden-md-down">Sources</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://github.com/JLESC/jlesc.github.io/issues">
                <i class="fa fa-bug fa-fw"></i><span class="hidden-md-down">Found a typo?</span></a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</footer>

    <!-- Latest compiled and minified JavaScript -->
<script type="text/javascript" src="/assets/main-f379c72bc0f1ca6c99205f5005786103a2b61210898a52b504597ea1e2e75917.js"></script>

<!--  -->

  </body>
</html>
